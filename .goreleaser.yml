# This is an example goreleaser.yaml file with some sane defaults.
# Make sure to check the documentation at http://goreleaser.com
env:
    - GO111MODULE=on

before:
    hooks:
        # You may remove this if you don't use go modules.
        - go mod download
        # you may remove this if you don't need go generate
        - go generate ./...
builds:
    - env:
          - CGO_ENABLED=0
      goos:
          - linux
          - windows
          - darwin
      goarch:
          - "386"
          - amd64
          - arm
          - arm64
          - ppc64
      mod_timestamp: "{{ .CommitTimestamp }}"
      ldflags:
          - -s -w -X main.version={{.Version}} -X main.commit={{.Commit}} -X main.date={{ .CommitDate }} -X main.builtBy=source
archives:
    - name_template: "{{ .ProjectName }}_{{ .Os }}_{{ .Arch }}{{ if .Arm }}v{{ .Arm }}{{ end }}"
      format_overrides:
          - goos: windows
            format: zip
checksum:
    name_template: "{{ .ProjectName }}_checksums.txt"
snapshot:
    name_template: "{{ .Tag }}-next"
nfpms:
    - file_name_template: "{{ .ProjectName }}_{{ .Arch }}{{ if .Arm }}v{{ .Arm }}{{ end }}"
      homepage: https://tomba.com
      description: CLI utility to search or verify lists of email addresses in minutes.
      maintainer: Mohamed Ben rebia <b.mohamed@tomba.io>
      license: MIT
      vendor: Tomba
      formats:
          - apk
          - deb
          - rpm
          - archlinux
      dependencies:
          - git
      recommends:
          - golang
changelog:
    sort: asc
    filters:
        exclude:
            - "^docs:"
            - "^test:"
            - Merge pull request
            - Merge branch
